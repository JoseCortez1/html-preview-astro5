---
// Obtener la ruta actual para resaltarla en el menú
const currentPath = Astro.url.pathname;

// Función para determinar si una ruta es la activa
const isActive = (path: string) => {
    if (path === '/' && currentPath === '/') return true;
    if (path !== '/' && currentPath.startsWith(path)) return true;
    return false;
}

// Generar clases para los enlaces basadas en si están activos o no
const getLinkClasses = (path: string) => {
    const baseClasses = "text-sm font-semibold";
    const activeClasses = "text-orange-500 border-b-2 border-orange-500";
    const inactiveClasses = "text-gray-800 hover:text-orange-800 hover:border-b-0 ";
    
    return `${baseClasses} ${isActive(path) ? activeClasses : inactiveClasses}`;
}
---

<header role="banner">
    <nav class="flex items-center justify-between p-4 shadow-sm border-b border-gray-200" role="navigation" aria-label="Navegación principal">
        <div>
            <a 
                class="text-sm gap-4 font-semibold hover:text-gray-950 text-gray-800 flex items-center focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 rounded" 
                href="/"
                aria-label="HTML Preview Editor - Ir al inicio"
            >
                <svg class="w-5 h-6 text-orange-500" viewBox="0 0 896 1024" aria-hidden="true" focusable="false"><path fill="currentColor" d="M831.405 1024h-767q-27 0-45.5-18.5T.405 960V65q0-27 18.5-45.5T64.405 1h448v352q0 13 9 22.5t23 9.5h351v575q0 27-18.5 45.5t-45.5 18.5m-459-440q12-12 12-30t-12-30.5t-29-12.5t-29 13l-175 149q-12 13-12 30.5t12 30.5l175 149q12 13 29 13t29-12.5t12-30.5t-12-30l-146-119zm384 89l-174-149q-12-13-29-13t-29 12.5t-12 30.5t12 30l145 120l-145 119q-12 12-12 30t12 30.5t29 12.5t29-13l174-149q13-13 13-30.5t-13-30.5m-180-673q26 0 44 18l256 257q19 19 19 46h-319z"/></svg>
                <span>HTML preview</span>
            </a>
        </div>
        <ul class="flex items-center gap-4" role="menubar">
            <li role="none">
                <a 
                    class={getLinkClasses('/')} 
                    href="/"
                    role="menuitem"
                    aria-current={isActive('/') ? 'page' : undefined}
                >
                    Inicio
                </a>
            </li>
            <li role="none">
                <a 
                    class={getLinkClasses('/about')} 
                    href="/about"
                    role="menuitem"
                    aria-current={isActive('/about') ? 'page' : undefined}
                >
                    About
                </a>
            </li>
        </ul>
    </nav>
</header>