@import "tailwindcss";

/* Variables CSS para light mode (valores por defecto) */
:root {
  --orange-400: #ff8904;
  --orange-500: #e67a00;
  --orange-600: #cc6b00;
  
  /* Light mode colors - mejor contraste */
  --bg-primary: #ffffff;
  --bg-secondary: #f9fafb;
  --text-primary: #111827;
  --text-secondary: #4b5563;
  --border-color: #d1d5db;
  --shadow-color: rgba(0, 0, 0, 0.1);
}

/* Sobrescribir todas las clases dark: de Tailwind cuando data-theme="light" está presente */
/* Esto sobrescribe las media queries de prefers-color-scheme de Tailwind */
html[data-theme="light"] [class*="dark:"]:not(#theme-toggle):not(#theme-toggle *):not(#theme-icon-light):not(#theme-icon-dark) {
  /* Anular todas las reglas dark: cuando data-theme="light" - mayor especificidad */
  /* Excluir el botón de tema y sus iconos */
  color: revert !important;
  background-color: revert !important;
  border-color: revert !important;
  background-image: revert !important;
}

/* Asegurar que las clases normales (sin dark:) se apliquen en light mode */
html[data-theme="light"] {
  color-scheme: light;
}

/* Light mode cuando está explícitamente seleccionado - Mayor especificidad para sobrescribir dark mode */
html[data-theme="light"],
html[data-theme="light"].dark,
html[data-theme="light"]:not(.dark) {
  --bg-primary: #ffffff !important;
  --bg-secondary: #f9fafb !important;
  --text-primary: #111827 !important;
  --text-secondary: #4b5563 !important;
  --border-color: #d1d5db !important;
  --shadow-color: rgba(0, 0, 0, 0.1) !important;
  --orange-400: #ff8904 !important;
  --orange-500: #e67a00 !important;
  --orange-600: #cc6b00 !important;
}

/* Dark mode - usando .dark para compatibilidad con Tailwind */
html[data-theme="dark"],
html.dark[data-theme="dark"],
html.dark:not([data-theme="light"]) {
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --text-primary: #f1f5f9;
  --text-secondary: #cbd5e1;
  --border-color: #334155;
  --shadow-color: rgba(0, 0, 0, 0.3);
  
  /* Ajustar naranja para mejor contraste en dark mode */
  --orange-400: #ff9500;
  --orange-500: #ff8904;
  --orange-600: #ff7d00;
}

/* Fallback para dark mode sin data-theme pero con clase .dark */
html.dark:not([data-theme]) {
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --text-primary: #f1f5f9;
  --text-secondary: #cbd5e1;
  --border-color: #334155;
  --shadow-color: rgba(0, 0, 0, 0.3);
  --orange-400: #ff9500;
  --orange-500: #ff8904;
  --orange-600: #ff7d00;
}

/* Sobrescribir media queries de prefers-color-scheme cuando data-theme="light" está presente */
/* Esta regla tiene mayor especificidad que las media queries de Tailwind */
@media (prefers-color-scheme: dark) {
  html[data-theme="light"] [class*="dark:"]:not(#theme-toggle):not(#theme-toggle *):not(#theme-icon-light):not(#theme-icon-dark) {
    /* Anular todas las reglas dark: cuando data-theme="light" dentro de la media query */
    /* Excluir el botón de tema y sus iconos */
    color: revert !important;
    background-color: revert !important;
    border-color: revert !important;
    background-image: revert !important;
  }
}

/* Dark mode automático basado en preferencia del sistema (solo si no hay preferencia explícita) */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]):not(.dark) {
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --text-primary: #f1f5f9;
    --text-secondary: #cbd5e1;
    --border-color: #334155;
    --shadow-color: rgba(0, 0, 0, 0.3);
    --orange-400: #ff9500;
    --orange-500: #ff8904;
    --orange-600: #ff7d00;
  }
}

/* ============================================
   Estilos del Header/Navbar
   ============================================ */

/* Forzar colores oscuros en light mode para textos del navbar */
html[data-theme="light"] header nav a,
html[data-theme="light"] header nav button,
html[data-theme="light"] header nav select,
html[data-theme="light"] header nav span {
  color: #111827 !important;
  filter: none !important;
  opacity: 1 !important;
}

/* Asegurar que no haya overlays o elementos superpuestos */
html[data-theme="light"] header nav a::before,
html[data-theme="light"] header nav a::after {
  display: none !important;
}

/* Colores naranjas para iconos y enlaces activos en light mode */
html[data-theme="light"] header nav a[class*="text-orange"],
html[data-theme="light"] header nav svg[class*="text-orange"],
html[data-theme="light"] header nav a.text-orange-600,
html[data-theme="light"] header nav svg.text-orange-600 {
  color: #ea580c !important;
}

html[data-theme="light"] header nav a:hover[class*="text-orange"],
html[data-theme="light"] header nav a:hover.text-orange-600 {
  color: #c2410c !important;
}

/* Enlaces del menú (ul li a) en light mode - mayor especificidad */
html[data-theme="light"] header nav ul a,
html[data-theme="light"] header nav ul li a {
  color: #111827 !important;
  filter: none !important;
  opacity: 1 !important;
}

/* Enlaces activos del menú en light mode - mayor especificidad */
html[data-theme="light"] header nav ul a[class*="border-orange"],
html[data-theme="light"] header nav ul li a[class*="border-orange"],
html[data-theme="light"] header nav ul a[class*="text-orange"],
html[data-theme="light"] header nav ul li a[class*="text-orange"] {
  color: #ea580c !important;
  filter: none !important;
  opacity: 1 !important;
}

/* Sobrescribir cualquier clase dark: en los enlaces del menú */
html[data-theme="light"] header nav ul a[class*="dark:"],
html[data-theme="light"] header nav ul li a[class*="dark:"] {
  color: #111827 !important;
}

html[data-theme="light"] header nav ul a[class*="border-orange"][class*="dark:"] {
  color: #ea580c !important;
}

/* Iconos SVG del botón de tema en light mode - mayor especificidad */
html[data-theme="light"] #theme-toggle,
html[data-theme="light"] #theme-toggle svg,
html[data-theme="light"] #theme-icon-light,
html[data-theme="light"] #theme-icon-dark {
  color: #111827 !important;
}

/* Iconos SVG con fill="currentColor" en light mode */
html[data-theme="light"] header nav svg[fill="currentColor"],
html[data-theme="light"] header nav svg path[fill="currentColor"] {
  fill: currentColor !important;
}

/* Asegurar que los SVG hereden el color del padre en light mode */
html[data-theme="light"] header nav a svg,
html[data-theme="light"] header nav svg {
  color: inherit !important;
  filter: none !important;
  opacity: 1 !important;
}

/* Icono del logo específicamente en light mode */
html[data-theme="light"] header nav > div:first-child a svg {
  color: #ea580c !important;
  fill: #ea580c !important;
}

/* Texto del logo en light mode */
html[data-theme="light"] header nav > div:first-child a span {
  color: #111827 !important;
}

/* Dark mode - mantener colores claros */
html[data-theme="dark"] header nav a,
html[data-theme="dark"] header nav button,
html[data-theme="dark"] header nav select,
html[data-theme="dark"] header nav span,
html.dark header nav a,
html.dark header nav button,
html.dark header nav select,
html.dark header nav span {
  color: #e5e7eb !important;
}

html[data-theme="dark"] header nav a[class*="text-orange"],
html[data-theme="dark"] header nav svg[class*="text-orange"],
html.dark header nav a.text-orange-400,
html.dark header nav svg.text-orange-400 {
  color: #ff8904 !important;
}

/* Iconos SVG del botón de tema en dark mode - mayor especificidad */
html[data-theme="dark"] #theme-toggle,
html[data-theme="dark"] #theme-toggle svg,
html[data-theme="dark"] #theme-icon-light,
html[data-theme="dark"] #theme-icon-dark,
html.dark #theme-toggle,
html.dark #theme-toggle svg,
html.dark #theme-icon-light,
html.dark #theme-icon-dark {
  color: #e5e7eb !important;
}

/* Iconos SVG con fill="currentColor" en dark mode */
html[data-theme="dark"] header nav svg[fill="currentColor"],
html[data-theme="dark"] header nav svg path[fill="currentColor"],
html.dark header nav svg[fill="currentColor"],
html.dark header nav svg path[fill="currentColor"] {
  fill: currentColor !important;
}

/* Asegurar que los SVG hereden el color del padre en dark mode */
html[data-theme="dark"] header nav a svg,
html[data-theme="dark"] header nav svg,
html.dark header nav a svg,
html.dark header nav svg {
  color: inherit !important;
}

/* Estilos para el dropdown de idioma */
html[data-theme="light"] #language-dropdown-button {
  color: #111827 !important;
  border-color: #9ca3af !important;
  background-color: transparent !important;
}

html[data-theme="light"] #language-dropdown-button:hover {
  background-color: #f3f4f6 !important;
}

html[data-theme="light"] #language-dropdown-menu {
  background-color: #ffffff !important;
  border-color: #d1d5db !important;
}

html[data-theme="light"] #language-dropdown-menu a {
  color: #111827 !important;
}

html[data-theme="light"] #language-dropdown-menu a:hover {
  background-color: #f3f4f6 !important;
}

/* Dark mode para el dropdown */
html[data-theme="dark"] #language-dropdown-button,
html.dark #language-dropdown-button {
  color: #e5e7eb !important;
  border-color: #4b5563 !important;
  background-color: transparent !important;
}

html[data-theme="dark"] #language-dropdown-button:hover,
html.dark #language-dropdown-button:hover {
  background-color: #1f2937 !important;
}

html[data-theme="dark"] #language-dropdown-menu,
html.dark #language-dropdown-menu {
  background-color: #1f2937 !important;
  border-color: #4b5563 !important;
}

html[data-theme="dark"] #language-dropdown-menu a,
html.dark #language-dropdown-menu a {
  color: #e5e7eb !important;
}

html[data-theme="dark"] #language-dropdown-menu a:hover,
html.dark #language-dropdown-menu a:hover {
  background-color: #374151 !important;
}